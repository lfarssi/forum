<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#FF5733" />
    <link rel="stylesheet" href="/resources/css/components/footer.css" />
    <link rel="stylesheet" href="/resources/css/components/nav.css" />
    <link rel="stylesheet" href="/resources/css/components/menu.css" />
    <link rel="stylesheet" href="/resources/css/components/displayPost.css" />
    <link rel="stylesheet" href="/resources/css/components/formPost.css" />
    <link rel="stylesheet" href="/resources/css/index.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />
    <link rel="icon" type="image/png" href="/resources/imgs/Z01.png" />
    <title>Jonon l3adama</title>
  </head>
  <body>
    {{template "navbar" .}}
    <main>
      <section>{{template "menu" .}}</section>
      <section class="post-formulaire">{{template "postForm" .}}</section>
      <section class="posts">
        {{range .Posts}}
        <div class="post" data-id="{{.ID}}">
          <div class="header">
            <h2>
              <img
                src="/resources/imgs/profile.png"
                alt="profile pictures"
              /><span class="username">{{.Username}}</span>
            </h2>
            <p class="created-at">{{.CreatedAt}}</p>
          </div>
          <h1>{{.Title}}</h1>
          <div class="categories-d">
            {{range .Categories}}
            <span class="category">{{.}}</span>
            {{end}}
          </div>
          <p class="content">{{.Content}}</p>

    </h1>
    <div class="categories-d">
        {{range .Categories}}
        <span class="category">{{.}}</span>
        {{end}}
    </div>
    <p class="content">{{.Content}}</p>
    {{if .Image}}
    <div class="post-image">
        <img src="{{.Image}}" alt="Post image">
    </div>
    {{end}}
    <button type="button" class="btn likepost {{if .IsLiked}} isReacted{{end}}">
        <span class="numlikepost">{{.Likes}}</span> <i class="fa-regular fa-thumbs-up"></i>
    </button>
    
    <button type="button" class="btn dislikepost {{if .IsDisliked}} isReacted {{end}}">
        <span class="numdislikepost">{{.Dislikes}}</span> <i class="fa-regular fa-thumbs-down"></i>
    </button>

          <button
            type="button"
            class="btn dislikepost {{if .IsDisliked}} isReacted {{end}}"
          >
            <span class="numdislikepost">{{.Dislikes}}</span>
            <i class="fa-regular fa-thumbs-down"></i>
          </button>

          <button type="button" class="btn comments-btn">
            {{.CommentsCount}}<i class="fa-regular fa-comment"></i>
          </button>
          <div class="comments">
            {{range .Comments}}
            <div class="comment" data-id="{{.ID}}">
              <h2>
                <img
                  src="/resources/imgs/profile.png"
                  alt="profile pictures"
                /><span class="username">{{.Username}}</span>
              </h2>
              <p>{{.Content}}</p>
              <button
                class="btn likecomment {{if .IsLiked}}isReacted {{end}}"
                type="button"
              >
                <span class="numlikecomment">{{.Likes}}</span>
                <i class="fa-regular fa-thumbs-up"></i>
              </button>
              <button
                class="btn dislikecomment {{if .IsDisliked}} isReacted {{end}}"
                type="button"
              >
                <span class="numdislikecomment"> {{.Dislikes}}</span>
                <i class="fa-regular fa-thumbs-down"></i>
              </button>
            </div>

            {{end}}
          </div>
        </div>

<<<<<<< HEAD
        {{end}}
       
    </div>
</div>
   

{{end}}
       </section>
       <div id="flashAlert" class="flash-alert">
        <span id="flashMessage"></span><i class="fa-solid fa-triangle-exclamation warning-icon"></i>
=======
        {{end}} 
      </section>
      <div id="flashAlert" class="flash-alert">
        <span id="flashMessage"></span
        ><i class="fa-solid fa-triangle-exclamation warning-icon"></i>
>>>>>>> security
        <div class="timer-bar"></div>
      </div>
    </main>

    {{template "footer" .}}
    <script src="/resources/js/index.js"></script>
  </body>
</html>
